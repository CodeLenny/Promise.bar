<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>CoffeeScript API Documentation</title>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Promise.bar'>
      Promise.bar
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>PromiseBar</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        PromiseBar
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>PromiseBar.coffee</td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>PromiseBar extends <code>Promise.all()</code> to display a progress bar representing the state of each item.</p><p>Keeps progress bars under all other stdout messages.
When drawing progress bars, a line is left under previous stdout messages, then progress bars are drawn.</p><pre><code>Listening to 8080.    # Previous stdout message
                      # Empty line
Build: |----------|   # Progress bars
</code></pre><p>The cursor is then moved to the empty line.
When other messages are printed to stdout, they are written to the empty line, leaving the cursor on the first character
of the progress bars.</p><pre><code>Listening to 8080.
New client connection.
Build: |----------|
</code></pre><p>stdout writes are listened to.  <a href='../class/PromiseBar.html#clear-dynamic'>PromiseBar#clear</a> is called, which empties all lines of the progress bar.</p><pre><code>Listening to 8080.
New client connection.
</code></pre><p>The progress bars are then drawn again, with another empty line left for more <code>process.stdout</code> messages.</p><pre><code>Listening to 8080.
New client connection.

Build: |----------|
</code></pre>
</div>
<div class='tags'>
</div>
      <h2>Property Summary</h2>
      <dl class='properties'>
        <dt id='conf-property'>
          <span class='signature'>
            (Object)
            <b>
              conf
            </b>
          </span>
        </dt>
        <dd class='desc'>
          Default options to configure how progress bars are displayed.  See <code>opts</code> in  <a href='../class/PromiseBar.html#all-dynamic'>PromiseBar#all</a> for the properties that can be set.

        </dd>
        <dt id='enabled-property'>
          <span class='signature'>
            (Boolean)
            <b>
              enabled
            </b>
          </span>
        </dt>
        <dd class='desc'>
          <code>true</code> if PromiseBar is in charge of stdout. 
        </dd>
        <dt id='ended-property'>
          <span class='signature'>
            (Boolean)
            <b>
              ended
            </b>
          </span>
        </dt>
        <dd class='desc'>
          <code>true</code> if PromiseBar has been stopped, and shouldn&#39;t be involved in output anymore. 
        </dd>
        <dt id='processing-property'>
          <span class='signature'>
            (Boolean)
            <b>
              processing
            </b>
          </span>
        </dt>
        <dd class='desc'>
          <code>true</code> if PromiseBar is internally controlling <code>process.stdout</code>. 
        </dd>
      </dl>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='Progress-variable'>
    Progress
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>Progress</code></pre>
    
  </dd>
</dl>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#all-dynamic'>
        #
(void)
<b>all</b><span>(items, opts = {})</span>
      </a>
    </span>
    <span class='desc'>
      <code>Promise.all</code> replacement. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#enable-dynamic'>
        #
(void)
<b>enable</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Sets up PromiseBar to manage stdout. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#end-dynamic'>
        #
(void)
<b>end</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Restore original stdout behavior, and prevent PromiseBar from trying changing the output. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#clear-dynamic'>
        #
(void)
<b>clear</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Removes all progress bars in stdout. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#maxLabelLength-dynamic'>
        #
(Number)
<b>maxLabelLength</b><span>(deep = false)</span>
      </a>
    </span>
    <span class='desc'>
      Determine the maximum label length for progress bars. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#draw-dynamic'>
        #
(void)
<b>draw</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Draw the progress bars to stdout, including a blank line at the start. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#lines-dynamic'>
        #
(Number)
<b>lines</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      The number of lines of stdout that the progress bars take. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#bufferstdout-dynamic'>
        #
(void)
<b>bufferstdout</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      PromiseBar needs stdout to print one line at a time. 
    </span>
  </li>
</ul>
      <h2>Constructor Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='constructor-dynamic'>
      #
(void)
<b>constructor</b><span>()</span>
      <br>
    </p>
    
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='all-dynamic'>
      #
(void)
<b>all</b><span>(items, opts = {})</span>
      <br>
    </p>
    <div class='docstring'>
  <p><code>Promise.all</code> replacement.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>items</span>
      <span class='type'>
        (
          <tt>Array&lt;Any&gt;</tt>
        )
      </span>
      &mdash;
      <span class='desc'>an array of items, same as <code>Promise.all()</code> </span>
    </li>
    <li>
      <span class='name'>opts</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>options to configure the display of the progress bar.  Defaults are set in {ProgressBar#opts}. </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (opts):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>label</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>text to include in the progress bar. </span>
    </li>
    <li>
      <span class='name'>flat</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>if <code>true</code>, progress bars won&#39;t indent under each other.  Defaults to <code>false</code>. </span>
    </li>
    <li>
      <span class='name'>pad</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>if <code>true</code>, labels on progress bars at the same depth are padded to be an equal length. Defaults to <code>true</code>. </span>
    </li>
    <li>
      <span class='name'>padDeep</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>if <code>true</code>, all labels on progress bars are padded to be an equal length.  Defaults to <code>false</code>. </span>
    </li>
    <li>
      <span class='name'>filled</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>a character to use for the solid progress bar.  Defaults to <code>&quot;â–‡&quot;</code>. </span>
    </li>
    <li>
      <span class='name'>empty</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>a character to use for unfilled progress.  Defaults to <code>&quot;-&quot;</code>. </span>
    </li>
    <li>
      <span class='name'>indent</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>characters inserted before progress bars to show hierarchy.  Defaults to <code>&quot;  &quot;</code>. </span>
    </li>
    <li>
      <span class='name'>format</span>
      <span class='type'>
        (
          <tt>Function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>a function that returns the string of the progress bar.  See variables in <a href='../class/Progress.html'>Progress</a> to insert.  <code>&quot;:bar&quot;</code> will be replaced with a progress bar filling the available space. </span>
    </li>
    <li>
      <span class='name'>barFormat</span>
      <span class='type'>
        (
          <tt>Function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>a function that transforms the progress bar.  Could be used to color the progress bar: <code>barFormat: (bar) =&gt; chalk.blue(bar)</code>. </span>
    </li>
    <li>
      <span class='name'>percentLength</span>
      <span class='type'>
        (
          <tt>Number</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the number of digits to include for percentages.  Should be above <code>3</code>. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='enable-dynamic'>
      #
(void)
<b>enable</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note todo'>
    <strong>TODO:</strong>
    redraw on console resize 
  </div>
  <p>Sets up PromiseBar to manage stdout.  Until <code>enable()</code> is called, <code>PromiseBar.all()</code> acts like <code>Promise.all()</code>.
Can be called multiple times without ill effect, as long as <a href='../class/PromiseBar.html#end-dynamic'>PromiseBar#end</a> hasn&#39;t been called.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='end-dynamic'>
      #
(void)
<b>end</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Restore original stdout behavior, and prevent PromiseBar from trying changing the output.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='clear-dynamic'>
      #
(void)
<b>clear</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Removes all progress bars in stdout.  Assumes that the cursor is on the first line of the progress bars
(under the blank line).  Returns the cursor to the starting position.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='maxLabelLength-dynamic'>
      #
(Number)
<b>maxLabelLength</b><span>(deep = false)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Determine the maximum label length for progress bars.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>deep</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>if <code>true</code>, check nested progress bars.  Defaults to <code>false</code>. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Number</tt>
      )
      &mdash;
      <span class='desc'>the length of the longest label. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='draw-dynamic'>
      #
(void)
<b>draw</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Draw the progress bars to stdout, including a blank line at the start.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='lines-dynamic'>
      #
(Number)
<b>lines</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>The number of lines of stdout that the progress bars take.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>Number</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='bufferstdout-dynamic'>
      #
(void)
<b>bufferstdout</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>PromiseBar needs stdout to print one line at a time.  Overwrites <code>process.stdout.write</code> to write strings that include
<code>\n</code> into multiple writes.</p>
</div>
<div class='tags'>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  By
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.1.2
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>